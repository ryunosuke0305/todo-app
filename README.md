# todo-app

1. 概要
社内でのタスク管理を効率化するために内製するタスク管理アプリケーションです。
このドキュメントは、開発にあたっての要件定義をまとめたものです。

2. 技術スタック
本プロジェクトは以下の技術スタックで開発を行います。
Backend: Python 3.x, Flask
Frontend: Vue.js, Bootstrap
Database: (TBD - PostgreSQL, SQLite etc.)
Deployment: Docker, Docker Compose

3. 要件定義（機能一覧）
3.1. タスク管理機能
基本項目
以下の項目を持つタスクを登録・編集できます。
タスク名: タスクのタイトル
詳細: タスクの詳細な内容を記述するメモ欄
担当者: タスクを実行する担当者
責任者: タスクの進捗管理に責任を持つ者（担当者とは別に設定）
開始日: タスクの開始予定日
期限: タスクの完了期限
進捗ステータス: タスクの状態（例: 未着手, 作業中, 完了）
優先度: 高, 中, 低 の3段階で設定。デフォルトは 中。
作業量（ボリューム）: 大, 中, 小 の3段階で設定。タスクの工数目安。
階層構造（親子タスク）
タスクにサブタスク（子タスク）を複数設定できる。
階層の深さに制限は設けない（無限に入れ子可能）。

3.2. 表示（ビュー）機能
リスト表示 (デフォルト)
タスクを一覧形式で表示する。
親子関係のあるタスクは、アコーディオン形式で展開・折りたたみがきるUIとする。
ガントチャート表示
タスクの開始日と期限を時系列で可視化し、プロジェクト全体のスケジュールを俯瞰できるようにする。
フィルタリング・ソート
完了したタスクを非表示にする切り替え機能。
担当者、ステータス、優先度などでタスクを絞り込む機能。
色分け
進捗ステータスや期限切れなどの状況に応じて、タスクを視覚的に分かりやすく色分け表示する。
<details>
<summary>検討外の表示方式</summary>
看板表示: 視認性の観点から、今回の実装からは除外します。
</details>

3.3. 通知・連携機能
リマインド機能
期限が近づいたタスクについて、ユーザーに通知する。
アラート機能
期限を超過したタスクや、特定の期間に作業量が集中している場合にアラートを表示する。
外部サービス連携 (検討事項)
Microsoft Outlookの予定表との連携。
Microsoft Teamsとの連携。

3.4. UI/UX
レスポンシブデザイン: PCだけでなく、スマートフォンやタブレットなどのモバイルデバイスでも快適に操作できるUIを提供する。
入力の簡素化: 日々の利用でストレスにならないよう、タスク登録や更新の操作は極力シンプルにする。詳細な実績工数の入力は不要とする。
ヘルプ機能: 優先度や作業量の定義など、ユーザーが迷いやすい項目にはツールチップで説明を表示する。

4. 開発環境の構築
本プロジェクトはDockerを使用して環境を構築します。

### Docker を利用した起動
```bash
git clone [repository-url]
cd task-management-tool
cp .env.example .env
docker-compose up -d --build
```
- バックエンド & フロントエンド: http://localhost:5000
  - ルート (`/`) にアクセスするとビルド済みのフロントエンドが表示されます。

### ローカル（Windows）環境での起動
1. `git pull` で最新の状態を取得します。
2. プロジェクトルートにある `run.bat` をダブルクリックするか、PowerShell/コマンドプロンプトから実行します。
   ```powershell
   .\run.bat
   ```
   - 初回実行時は `backend/.venv` に仮想環境が作成され、Python 依存関係が自動的にインストールされます。
   - フロントエンドの `node_modules` が存在しない場合は `npm install` が自動的に実行されます。
   - 依存関係を再インストールしたい場合は `-Install` オプションを付けてください。
     ```powershell
     .\run.bat -Install
     ```
   - セットアップ完了後、フロントエンド資産がビルドされ、バックエンドサーバーが同じウィンドウで起動します。終了するときは `Ctrl+C` でプロセスを停止してください。
3. バックエンド & フロントエンド: http://localhost:5000
   - ルート (`/`) にアクセスするとビルド済みのフロントエンドが表示されます。

> メモ: `run.bat` 単体でセットアップからサーバー起動までを行います。Python 3.x と Node.js/npm が事前にインストールされている必要があります。

### Docker を利用した起動
単一コンテナで API とフロントエンド資産をまとめる Dockerfile をルートに配置しています。将来的な本番デプロイや CI 用途を想定しています。

```bash
git clone [repository-url]
cd todo-app
cp .env.example .env
docker build -t todo-app .
docker run --rm -p 5000:5000 todo-app
```

- バックエンド & フロントエンド: http://localhost:5000 （ルートアクセスでビルド済み HTML を配信）

### サンプルデータ
- `backend/tests/data/sample_tasks.json` にテストや UI 検証で利用できるサンプルタスクを同梱しています。
- `GET /api/tasks` エンドポイントはこのサンプルデータを返却します。

5. ディレクトリ構成（案）
```
.
├── Dockerfile       # ルートコンテナ（将来的な単一イメージ化）
├── backend/          # Flaskバックエンド
│   ├── app/
│   ├── tests/
│   ├── Dockerfile
│   └── requirements.txt
├── frontend/         # Vue.jsフロントエンド
│   ├── public/
│   ├── src/
│   ├── Dockerfile
│   └── package.json
├── run.bat           # Windows 用起動バッチ
├── docker-compose.yml
├── .env.example
└── README.md
```
