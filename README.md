# todo-app

## 概要
社内のタスク管理を効率化するための学習用フルスタックプロジェクトです。Flask 製の単一サーバーが API と UI の双方を提供し、今後の機能拡張の土台になります。

## 技術スタック
- **サーバー**: Python 3 / Flask / SQLite / Bootstrap 5
- **フロントエンド**: Flask テンプレート + Vue 3（CDN 配信、追加ビルド不要）
- **Deployment**: Docker（単一コンテナでの動作を想定）

## 要件定義（サマリ）
### タスク管理
- タスクには以下の基本情報を保持する: タイトル、詳細、担当者、責任者、開始日、期限、進捗ステータス、優先度、作業量。
- タスクは入れ子で管理でき、階層の深さには制限を設けない。

### 表示機能
- デフォルトのリスト表示で親子関係のあるタスクを階層的に表示する。
- ガントチャート表示は将来的な検討事項として保留。
- フィルタリング（担当者・ステータス・優先度など）や完了タスクの表示切り替えを提供する計画。
- 状況（ステータスや期限超過）に応じた色分け表示を想定。
- 看板表示は現段階では実装対象外。

### 通知・連携
- 期限が近いタスクのリマインド通知、および期限超過や工数偏りを検知したアラート表示を検討。
- Microsoft Outlook カレンダーや Microsoft Teams との連携を検討事項として記録。

### UI/UX 方針
- PC / モバイルを問わず操作しやすいレスポンシブデザイン。
- タスク登録・更新の操作は簡潔に保つ。
- 優先度や作業量など迷いやすい項目にはヘルプを用意する想定。

## サンプルデータ
- `backend/tests/data/sample_tasks.json` に UI 検証やテストで使用できるタスクを同梱。
- `GET /api/tasks` で上記サンプルデータを返却。ファイルが存在しない場合はフォールバックのタスクを自動生成します。

## 開発環境の構築
### Windows（PowerShell / コマンドプロンプト）
1. `run.bat` を実行すると、以下を自動で行います。
   - Python 仮想環境の作成と依存関係のインストール。
   - Flask アプリケーションの起動。
2. 依存関係を再インストールしたい場合は `run.bat -Install` を使用してください。
3. サーバーは `http://localhost:5000` で起動します。

### Docker を利用した起動
```bash
git clone <repository-url>
cd todo-app
docker build -t todo-app .
docker run --rm -p 5000:5000 todo-app
```
- ブラウザから `http://localhost:5000` にアクセスするとフロントエンドと API が利用できます。
- タスクデータベースはリポジトリ直下の `data/` ディレクトリに保存されます。
- 永続化したい場合は `docker run --rm -p 5000:5000 -v $(pwd)/data:/app/data todo-app` のようにボリュームをバインドしてください。

## ディレクトリ構成
```
.
├── Dockerfile              # 単一サーバー用コンテナ定義
├── backend/                # Flask アプリケーション
│   ├── app/                # API・UI 実装一式
│   ├── tests/              # Pytest によるテストとサンプルデータ
│   ├── Dockerfile
│   └── requirements.txt
└── run.bat                 # Windows 用セットアップ & 起動スクリプト
```

## 今後の改善候補
- API とフロントエンドを接続するための本番環境向け設定。
- 認証・権限管理や通知機能の実装。
- CI/CD パイプラインの整備。
